{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet CadastrarAgendamentoComponent = class CadastrarAgendamentoComponent {\n  constructor(agendamentoService, route, http) {\n    this.agendamentoService = agendamentoService;\n    this.route = route;\n    this.http = http;\n    this.agendamento = {};\n    this.apiUrl = '';\n    this.materialList = [];\n    this.isVisible = false;\n    this.date = new Date();\n  }\n  updateDate(event) {\n    this.date = event.target.valueAsDate;\n  }\n  ngOnInit() {\n    this.getAgendamentos();\n    this.route.paramMap.subscribe(params => {\n      this.elemento = this.route.snapshot.paramMap.get('elemento');\n    });\n    if (this.elemento === 'auditorio') {\n      this.isVisible = true;\n    }\n  }\n  saveAuditorio(agendamento) {\n    agendamento.item = \"Auditório\";\n    this.agendamento = {\n      ...agendamento\n    };\n    this.agendamentoService.saveAgendamento(this.agendamento).subscribe(() => {});\n  }\n  saveAgendamento(form) {\n    if (this.agendamento.id !== undefined) {\n      this.agendamentoService.updateAgendamento(this.agendamento).subscribe(() => {\n        this.cleanForm(form);\n      });\n    } else {\n      this.agendamentoService.saveAgendamento(this.agendamento).subscribe(() => {\n        this.cleanForm(form);\n      });\n    }\n  }\n  getAgendamentos() {\n    this.agendamentoService.getAgendamentos().subscribe(agendamentos => {\n      this.agendamentos = agendamentos;\n    });\n  }\n  cleanForm(form) {\n    this.getAgendamentos();\n    form.resetForm();\n    this.agendamento = {};\n  }\n};\nCadastrarAgendamentoComponent = __decorate([Component({\n  selector: 'app-cadastrar-agendamento',\n  templateUrl: './cadastrar-agendamento.component.html',\n  styleUrls: ['./cadastrar-agendamento.component.css']\n})], CadastrarAgendamentoComponent);\nexport { CadastrarAgendamentoComponent };","map":{"version":3,"names":["Component","CadastrarAgendamentoComponent","constructor","agendamentoService","route","http","agendamento","apiUrl","materialList","isVisible","date","Date","updateDate","event","target","valueAsDate","ngOnInit","getAgendamentos","paramMap","subscribe","params","elemento","snapshot","get","saveAuditorio","item","saveAgendamento","form","id","undefined","updateAgendamento","cleanForm","agendamentos","resetForm","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\daniela\\controle-agendamento\\src\\app\\main-panel\\cadastrar-agendamento\\cadastrar-agendamento.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { Agendamento } from '../../model/agendamento';\r\nimport { AgendamentoService } from '../../services/agendamento.service';\r\nimport { FormControl, NgForm } from '@angular/forms';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Component({\r\n  selector: 'app-cadastrar-agendamento',\r\n  templateUrl: './cadastrar-agendamento.component.html',\r\n  styleUrls: ['./cadastrar-agendamento.component.css']\r\n})\r\nexport class CadastrarAgendamentoComponent {\r\n\r\n  agendamento = {} as Agendamento;\r\n  agendamentos: Agendamento[];\r\n  apiUrl = '';\r\n  materialList: any[] = [];\r\n  isVisible = false;\r\n  elemento: string | null;\r\n  constructor(private agendamentoService: AgendamentoService, private route: ActivatedRoute, private http: HttpClient) { }\r\n\r\n  date = new Date();\r\n  \r\n\r\n  updateDate(event: any) {\r\n    this.date = event.target.valueAsDate;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getAgendamentos();\r\n\r\n    this.route.paramMap.subscribe(params => {\r\n      this.elemento = this.route.snapshot.paramMap.get('elemento');\r\n    })\r\n\r\n    if (this.elemento === 'auditorio') {\r\n      this.isVisible = true;\r\n    }\r\n\r\n\r\n  }\r\n\r\n  saveAuditorio(agendamento: Agendamento) {\r\n    agendamento.item = \"Auditório\";\r\n    this.agendamento = { ...agendamento };\r\n    this.agendamentoService.saveAgendamento(this.agendamento).subscribe(() => {\r\n\r\n    });\r\n\r\n  }\r\n\r\n\r\n\r\n  saveAgendamento(form: NgForm) {\r\n\r\n    if (this.agendamento.id !== undefined) {\r\n      this.agendamentoService.updateAgendamento(this.agendamento).subscribe(() => {\r\n        this.cleanForm(form);\r\n\r\n      });\r\n    } else {\r\n      this.agendamentoService.saveAgendamento(this.agendamento).subscribe(() => {\r\n\r\n        this.cleanForm(form);\r\n\r\n      });\r\n    }\r\n  }\r\n\r\n  getAgendamentos() {\r\n    this.agendamentoService.getAgendamentos().subscribe((agendamentos: Agendamento[]) => {\r\n      this.agendamentos = agendamentos;\r\n    });\r\n  }\r\n\r\n  cleanForm(form: NgForm) {\r\n    this.getAgendamentos();\r\n    form.resetForm();\r\n    this.agendamento = {} as Agendamento;\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAYzC,IAAaC,6BAA6B,GAA1C,MAAaA,6BAA6B;EAQxCC,YAAoBC,kBAAsC,EAAUC,KAAqB,EAAUC,IAAgB;IAA/F,KAAAF,kBAAkB,GAAlBA,kBAAkB;IAA8B,KAAAC,KAAK,GAALA,KAAK;IAA0B,KAAAC,IAAI,GAAJA,IAAI;IANvG,KAAAC,WAAW,GAAG,EAAiB;IAE/B,KAAAC,MAAM,GAAG,EAAE;IACX,KAAAC,YAAY,GAAU,EAAE;IACxB,KAAAC,SAAS,GAAG,KAAK;IAIjB,KAAAC,IAAI,GAAG,IAAIC,IAAI,EAAE;EAFsG;EAKvHC,UAAUA,CAACC,KAAU;IACnB,IAAI,CAACH,IAAI,GAAGG,KAAK,CAACC,MAAM,CAACC,WAAW;EACtC;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACC,eAAe,EAAE;IAEtB,IAAI,CAACb,KAAK,CAACc,QAAQ,CAACC,SAAS,CAACC,MAAM,IAAG;MACrC,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACjB,KAAK,CAACkB,QAAQ,CAACJ,QAAQ,CAACK,GAAG,CAAC,UAAU,CAAC;IAC9D,CAAC,CAAC;IAEF,IAAI,IAAI,CAACF,QAAQ,KAAK,WAAW,EAAE;MACjC,IAAI,CAACZ,SAAS,GAAG,IAAI;;EAIzB;EAEAe,aAAaA,CAAClB,WAAwB;IACpCA,WAAW,CAACmB,IAAI,GAAG,WAAW;IAC9B,IAAI,CAACnB,WAAW,GAAG;MAAE,GAAGA;IAAW,CAAE;IACrC,IAAI,CAACH,kBAAkB,CAACuB,eAAe,CAAC,IAAI,CAACpB,WAAW,CAAC,CAACa,SAAS,CAAC,MAAK,CAEzE,CAAC,CAAC;EAEJ;EAIAO,eAAeA,CAACC,IAAY;IAE1B,IAAI,IAAI,CAACrB,WAAW,CAACsB,EAAE,KAAKC,SAAS,EAAE;MACrC,IAAI,CAAC1B,kBAAkB,CAAC2B,iBAAiB,CAAC,IAAI,CAACxB,WAAW,CAAC,CAACa,SAAS,CAAC,MAAK;QACzE,IAAI,CAACY,SAAS,CAACJ,IAAI,CAAC;MAEtB,CAAC,CAAC;KACH,MAAM;MACL,IAAI,CAACxB,kBAAkB,CAACuB,eAAe,CAAC,IAAI,CAACpB,WAAW,CAAC,CAACa,SAAS,CAAC,MAAK;QAEvE,IAAI,CAACY,SAAS,CAACJ,IAAI,CAAC;MAEtB,CAAC,CAAC;;EAEN;EAEAV,eAAeA,CAAA;IACb,IAAI,CAACd,kBAAkB,CAACc,eAAe,EAAE,CAACE,SAAS,CAAEa,YAA2B,IAAI;MAClF,IAAI,CAACA,YAAY,GAAGA,YAAY;IAClC,CAAC,CAAC;EACJ;EAEAD,SAASA,CAACJ,IAAY;IACpB,IAAI,CAACV,eAAe,EAAE;IACtBU,IAAI,CAACM,SAAS,EAAE;IAChB,IAAI,CAAC3B,WAAW,GAAG,EAAiB;EACtC;CASD;AA7EYL,6BAA6B,GAAAiC,UAAA,EALzClC,SAAS,CAAC;EACTmC,QAAQ,EAAE,2BAA2B;EACrCC,WAAW,EAAE,wCAAwC;EACrDC,SAAS,EAAE,CAAC,uCAAuC;CACpD,CAAC,C,EACWpC,6BAA6B,CA6EzC;SA7EYA,6BAA6B"},"metadata":{},"sourceType":"module","externalDependencies":[]}