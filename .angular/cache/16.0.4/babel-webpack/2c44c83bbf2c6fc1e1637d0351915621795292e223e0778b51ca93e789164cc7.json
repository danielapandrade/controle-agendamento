{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nlet CadastrarAgendamentoComponent = class CadastrarAgendamentoComponent {\n  constructor(agendamentoService, route, http) {\n    this.agendamentoService = agendamentoService;\n    this.route = route;\n    this.http = http;\n    this.agendamento = {};\n    this.apiUrl = '';\n    this.materialList = [];\n    this.isVisible = false;\n    this.date = new Date();\n    this.dateStringControl = new FormControl('2020-09-28');\n    this.dateObjectControl = new FormControl(new Date());\n  }\n  ngOnInit() {\n    this.getAgendamentos();\n    this.route.paramMap.subscribe(params => {\n      this.elemento = this.route.snapshot.paramMap.get('elemento');\n    });\n    if (this.elemento === 'auditorio') {\n      this.isVisible = true;\n    }\n  }\n  updateDate(event) {\n    this.date = event.target.valueAsDate;\n  }\n  saveAuditorio(agendamento) {\n    agendamento.item = \"Auditório\";\n    this.agendamento = {\n      ...agendamento\n    };\n    this.agendamentoService.saveAgendamento(this.agendamento).subscribe(() => {});\n  }\n  saveAgendamento(form) {\n    if (this.agendamento.id !== undefined) {\n      this.agendamentoService.updateAgendamento(this.agendamento).subscribe(() => {\n        this.cleanForm(form);\n      });\n    } else {\n      this.agendamentoService.saveAgendamento(this.agendamento).subscribe(() => {\n        this.cleanForm(form);\n      });\n    }\n  }\n  getAgendamentos() {\n    this.agendamentoService.getAgendamentos().subscribe(agendamentos => {\n      this.agendamentos = agendamentos;\n    });\n  }\n  cleanForm(form) {\n    this.getAgendamentos();\n    form.resetForm();\n    this.agendamento = {};\n  }\n};\nCadastrarAgendamentoComponent = __decorate([Component({\n  selector: 'app-cadastrar-agendamento',\n  templateUrl: './cadastrar-agendamento.component.html',\n  styleUrls: ['./cadastrar-agendamento.component.css']\n})], CadastrarAgendamentoComponent);\nexport { CadastrarAgendamentoComponent };","map":{"version":3,"names":["Component","FormControl","CadastrarAgendamentoComponent","constructor","agendamentoService","route","http","agendamento","apiUrl","materialList","isVisible","date","Date","dateStringControl","dateObjectControl","ngOnInit","getAgendamentos","paramMap","subscribe","params","elemento","snapshot","get","updateDate","event","target","valueAsDate","saveAuditorio","item","saveAgendamento","form","id","undefined","updateAgendamento","cleanForm","agendamentos","resetForm","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\daniela\\controle-agendamento\\src\\app\\main-panel\\cadastrar-agendamento\\cadastrar-agendamento.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { Agendamento } from '../../model/agendamento';\r\nimport { AgendamentoService } from '../../services/agendamento.service';\r\nimport { FormBuilder, NgForm, Validators } from '@angular/forms';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { FormControl } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-cadastrar-agendamento',\r\n  templateUrl: './cadastrar-agendamento.component.html',\r\n  styleUrls: ['./cadastrar-agendamento.component.css']\r\n})\r\nexport class CadastrarAgendamentoComponent {\r\n\r\n  agendamento = {} as Agendamento;\r\n  agendamentos: Agendamento[];\r\n  apiUrl = '';\r\n  materialList: any[] = [];\r\n  isVisible = false;\r\n  elemento: string | null;\r\n  date = new Date();\r\n  dateStringControl = new FormControl('2020-09-28');\r\n  dateObjectControl = new FormControl(new Date());\r\n\r\n  \r\n  constructor(private agendamentoService: AgendamentoService, private route: ActivatedRoute, private http: HttpClient) { \r\n    \r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getAgendamentos();\r\n\r\n    this.route.paramMap.subscribe(params => {\r\n      this.elemento = this.route.snapshot.paramMap.get('elemento');\r\n    })\r\n\r\n    if (this.elemento === 'auditorio') {\r\n      this.isVisible = true;\r\n    }\r\n\r\n\r\n  }\r\n\r\n\r\n  updateDate(event: any) {\r\n    this.date = event.target.valueAsDate;\r\n  }\r\n\r\n  saveAuditorio(agendamento: Agendamento) {\r\n    agendamento.item = \"Auditório\";\r\n    this.agendamento = { ...agendamento };\r\n    this.agendamentoService.saveAgendamento(this.agendamento).subscribe(() => {\r\n\r\n    });\r\n\r\n  }\r\n\r\n\r\n\r\n  saveAgendamento(form: NgForm) {\r\n\r\n    if (this.agendamento.id !== undefined) {\r\n      this.agendamentoService.updateAgendamento(this.agendamento).subscribe(() => {\r\n        this.cleanForm(form);\r\n\r\n      });\r\n    } else {\r\n      this.agendamentoService.saveAgendamento(this.agendamento).subscribe(() => {\r\n\r\n        this.cleanForm(form);\r\n\r\n      });\r\n    }\r\n  }\r\n\r\n  getAgendamentos() {\r\n    this.agendamentoService.getAgendamentos().subscribe((agendamentos: Agendamento[]) => {\r\n      this.agendamentos = agendamentos;\r\n    });\r\n  }\r\n\r\n  cleanForm(form: NgForm) {\r\n    this.getAgendamentos();\r\n    form.resetForm();\r\n    this.agendamento = {} as Agendamento;\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAMzC,SAASC,WAAW,QAAQ,gBAAgB;AAO5C,IAAaC,6BAA6B,GAA1C,MAAaA,6BAA6B;EAaxCC,YAAoBC,kBAAsC,EAAUC,KAAqB,EAAUC,IAAgB;IAA/F,KAAAF,kBAAkB,GAAlBA,kBAAkB;IAA8B,KAAAC,KAAK,GAALA,KAAK;IAA0B,KAAAC,IAAI,GAAJA,IAAI;IAXvG,KAAAC,WAAW,GAAG,EAAiB;IAE/B,KAAAC,MAAM,GAAG,EAAE;IACX,KAAAC,YAAY,GAAU,EAAE;IACxB,KAAAC,SAAS,GAAG,KAAK;IAEjB,KAAAC,IAAI,GAAG,IAAIC,IAAI,EAAE;IACjB,KAAAC,iBAAiB,GAAG,IAAIZ,WAAW,CAAC,YAAY,CAAC;IACjD,KAAAa,iBAAiB,GAAG,IAAIb,WAAW,CAAC,IAAIW,IAAI,EAAE,CAAC;EAK/C;EAEAG,QAAQA,CAAA;IACN,IAAI,CAACC,eAAe,EAAE;IAEtB,IAAI,CAACX,KAAK,CAACY,QAAQ,CAACC,SAAS,CAACC,MAAM,IAAG;MACrC,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACf,KAAK,CAACgB,QAAQ,CAACJ,QAAQ,CAACK,GAAG,CAAC,UAAU,CAAC;IAC9D,CAAC,CAAC;IAEF,IAAI,IAAI,CAACF,QAAQ,KAAK,WAAW,EAAE;MACjC,IAAI,CAACV,SAAS,GAAG,IAAI;;EAIzB;EAGAa,UAAUA,CAACC,KAAU;IACnB,IAAI,CAACb,IAAI,GAAGa,KAAK,CAACC,MAAM,CAACC,WAAW;EACtC;EAEAC,aAAaA,CAACpB,WAAwB;IACpCA,WAAW,CAACqB,IAAI,GAAG,WAAW;IAC9B,IAAI,CAACrB,WAAW,GAAG;MAAE,GAAGA;IAAW,CAAE;IACrC,IAAI,CAACH,kBAAkB,CAACyB,eAAe,CAAC,IAAI,CAACtB,WAAW,CAAC,CAACW,SAAS,CAAC,MAAK,CAEzE,CAAC,CAAC;EAEJ;EAIAW,eAAeA,CAACC,IAAY;IAE1B,IAAI,IAAI,CAACvB,WAAW,CAACwB,EAAE,KAAKC,SAAS,EAAE;MACrC,IAAI,CAAC5B,kBAAkB,CAAC6B,iBAAiB,CAAC,IAAI,CAAC1B,WAAW,CAAC,CAACW,SAAS,CAAC,MAAK;QACzE,IAAI,CAACgB,SAAS,CAACJ,IAAI,CAAC;MAEtB,CAAC,CAAC;KACH,MAAM;MACL,IAAI,CAAC1B,kBAAkB,CAACyB,eAAe,CAAC,IAAI,CAACtB,WAAW,CAAC,CAACW,SAAS,CAAC,MAAK;QAEvE,IAAI,CAACgB,SAAS,CAACJ,IAAI,CAAC;MAEtB,CAAC,CAAC;;EAEN;EAEAd,eAAeA,CAAA;IACb,IAAI,CAACZ,kBAAkB,CAACY,eAAe,EAAE,CAACE,SAAS,CAAEiB,YAA2B,IAAI;MAClF,IAAI,CAACA,YAAY,GAAGA,YAAY;IAClC,CAAC,CAAC;EACJ;EAEAD,SAASA,CAACJ,IAAY;IACpB,IAAI,CAACd,eAAe,EAAE;IACtBc,IAAI,CAACM,SAAS,EAAE;IAChB,IAAI,CAAC7B,WAAW,GAAG,EAAiB;EACtC;CASD;AAlFYL,6BAA6B,GAAAmC,UAAA,EALzCrC,SAAS,CAAC;EACTsC,QAAQ,EAAE,2BAA2B;EACrCC,WAAW,EAAE,wCAAwC;EACrDC,SAAS,EAAE,CAAC,uCAAuC;CACpD,CAAC,C,EACWtC,6BAA6B,CAkFzC;SAlFYA,6BAA6B"},"metadata":{},"sourceType":"module","externalDependencies":[]}